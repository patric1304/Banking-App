<Window x:Class="BankingApp.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="Banking System" 
        Height="700" Width="1200"
        WindowState="Maximized"
        WindowStartupLocation="CenterScreen">
    <Grid Margin="25">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <Border Grid.Row="0" Background="{StaticResource PrimaryBrush}" 
                CornerRadius="12" Padding="30,20" Margin="0,0,0,25">
            <StackPanel HorizontalAlignment="Center">
                <TextBlock Text="🏦 Promise Banking System" 
                          FontSize="32" FontWeight="Bold" 
                          Foreground="White" HorizontalAlignment="Center"/>
                <TextBlock Text="Manage your accounts with ease, keep your money safe" 
                          FontSize="16" Foreground="White" 
                          HorizontalAlignment="Center" Margin="0,5,0,0" 
                          FontStyle="Italic" Opacity="0.9"/>
            </StackPanel>
        </Border>

        <!-- Stats Panel -->
        <Grid Grid.Row="1" Margin="0,0,0,25">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="*"/>
            </Grid.ColumnDefinitions>

            <!-- Total Accounts -->
            <Border Grid.Column="0" Background="White" CornerRadius="12" 
                    Padding="25" Margin="0,0,10,0">
                <Border.Effect>
                    <DropShadowEffect Color="#1E293B" Opacity="0.1" BlurRadius="20" ShadowDepth="0"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="Total Accounts" FontSize="14" 
                              Foreground="#64748B" Margin="0,0,0,10"/>
                    <TextBlock Text="{Binding TotalAccounts}" 
                              FontSize="28" FontWeight="Bold" 
                              Foreground="{StaticResource PrimaryBrush}"/>
                </StackPanel>
            </Border>

            <!-- Total Banks -->
            <Border Grid.Column="1" Background="White" CornerRadius="12" 
                    Padding="25" Margin="5,0">
                <Border.Effect>
                    <DropShadowEffect Color="#1E293B" Opacity="0.1" BlurRadius="20" ShadowDepth="0"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="Total Banks" FontSize="14" 
                              Foreground="#64748B" Margin="0,0,0,10"/>
                    <TextBlock Text="{Binding TotalBanks}" 
                              FontSize="28" FontWeight="Bold" 
                              Foreground="{StaticResource PrimaryBrush}"/>
                </StackPanel>
            </Border>

            <!-- Quick Actions -->
            <Border Grid.Column="2" Background="White" CornerRadius="12" 
                    Padding="25" Margin="10,0,0,0">
                <Border.Effect>
                    <DropShadowEffect Color="#1E293B" Opacity="0.1" BlurRadius="20" ShadowDepth="0"/>
                </Border.Effect>
                <StackPanel>
                    <TextBlock Text="Quick Actions" FontSize="14" 
                              Foreground="#64748B" Margin="0,0,0,10"/>
                    <TextBlock Text="6 Available" FontSize="28" 
                              FontWeight="Bold" Foreground="{StaticResource PrimaryBrush}"/>
                </StackPanel>
            </Border>
        </Grid>

        <!-- Main Content Area -->
        <Grid Grid.Row="2" Margin="0,0,0,20">
            <!-- Welcome Panel -->
            <Border Background="White" CornerRadius="12" 
                    Padding="60,40" Margin="200,20"
                    Visibility="{Binding IsWelcomePanelVisible, Converter={StaticResource BoolToVisibilityConverter}}">
                <Border.Effect>
                    <DropShadowEffect Color="#1E293B" Opacity="0.1" BlurRadius="20" ShadowDepth="0"/>
                </Border.Effect>
                <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                    <TextBlock Text="👋 Welcome to Promise Banking!" 
                              FontSize="34" FontWeight="Bold" 
                              Foreground="{StaticResource PrimaryBrush}" 
                              HorizontalAlignment="Center" Margin="0,0,0,10"/>
                    <TextBlock Text="Your trusted partner in financial management" 
                              FontSize="16" Foreground="#64748B" 
                              HorizontalAlignment="Center" Margin="0,0,0,35"/>
                    <Button Content="👁️ View All Accounts" 
                            Command="{Binding ViewAccountsCommand}"
                            Width="200" Height="50" 
                            FontSize="16" FontWeight="SemiBold" 
                            HorizontalAlignment="Center"/>
                </StackPanel>
            </Border>

            <!-- Accounts List -->
            <GroupBox Header="Accounts" FontSize="16" FontWeight="SemiBold"
                      Visibility="{Binding IsAccountsVisible, Converter={StaticResource BoolToVisibilityConverter}}">
                <ListView x:Name="AccountsListView" 
                         ItemsSource="{Binding Accounts}"
                         FontSize="14">
                    <ListView.View>
                        <GridView>
                            <GridViewColumn Header="Holder" Width="200">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding AccountHolder}" 
                                                  FontWeight="SemiBold" FontSize="15"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn Header="IBAN" Width="250">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Iban}" 
                                                  FontFamily="Consolas" 
                                                  Foreground="#64748B"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn Header="Type" Width="120">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding AccountType}" FontSize="15"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn Header="Currency" Width="100">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding AccountCurrency}" 
                                                  FontWeight="Medium" 
                                                  Foreground="{StaticResource PrimaryBrush}"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                            <GridViewColumn Header="Balance" Width="150">
                                <GridViewColumn.CellTemplate>
                                    <DataTemplate>
                                        <TextBlock Text="{Binding Amount, StringFormat=N2}" 
                                                  FontWeight="Bold" FontSize="16" 
                                                  Foreground="{StaticResource AccentBrush}"/>
                                    </DataTemplate>
                                </GridViewColumn.CellTemplate>
                            </GridViewColumn>
                        </GridView>
                    </ListView.View>
                </ListView>
            </GroupBox>
        </Grid>

        <!-- Action Buttons -->
        <StackPanel Grid.Row="3" Orientation="Horizontal" 
                   HorizontalAlignment="Center" Margin="0,10,0,0">
            <Button Content="➕ Create Account" 
                    Command="{Binding CreateAccountCommand}"
                    Width="175" Height="45" Margin="5"/>
            <Button Content="💰 Deposit" 
                    Command="{Binding DepositCommand}"
                    CommandParameter="{Binding SelectedItem, ElementName=AccountsListView}"
                    Width="150" Height="45" Margin="5"/>
            <Button Content="💸 Withdraw" 
                    Command="{Binding WithdrawCommand}"
                    CommandParameter="{Binding SelectedItem, ElementName=AccountsListView}"
                    Width="150" Height="45" Margin="5"/>
            <Button Content="💵 Transfer" 
                    Command="{Binding TransferCommand}"
                    CommandParameter="{Binding SelectedItem, ElementName=AccountsListView}"
                    Width="150" Height="45" Margin="5"/>
            <Button Content="💱 Change Currency" 
                    Command="{Binding ChangeCurrencyCommand}"
                    CommandParameter="{Binding SelectedItem, ElementName=AccountsListView}"
                    Width="170" Height="45" Margin="5"/>
            <Button Content="📊 View Transactions" 
                    Command="{Binding ViewTransactionsCommand}"
                    CommandParameter="{Binding SelectedItem, ElementName=AccountsListView}"
                    Width="180" Height="45" Margin="5"/>
            <Button Content="🗑️ Delete Account" 
                    Command="{Binding DeleteAccountCommand}"
                    CommandParameter="{Binding SelectedItem, ElementName=AccountsListView}"
                    Width="160" Height="45" Margin="5"/>
        </StackPanel>

        <!-- Loading Overlay -->
        <Grid Grid.RowSpan="4" Background="#80000000" 
              Visibility="{Binding IsLoading, Converter={StaticResource BoolToVisibilityConverter}}">
            <StackPanel VerticalAlignment="Center" HorizontalAlignment="Center">
                <TextBlock Text="⏳" FontSize="48" HorizontalAlignment="Center" Margin="0,0,0,10"/>
                <TextBlock Text="Processing..." FontSize="18" Foreground="White" FontWeight="SemiBold"/>
            </StackPanel>
        </Grid>
    </Grid>
</Window>